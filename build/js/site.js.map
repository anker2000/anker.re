{"version":3,"sources":["add_project.js","interface.js","livereload.js"],"names":["addProject","section","scene","resizeHandler","area","screenWidth","screenWidthFromDistance","camera","position","z","console","log","$","window","bind","loader","THREE","JSONLoader","screenMaterial","MeshBasicMaterial","color","video","find","videoTexture","VideoTexture","minFilter","LinearFilter","magFilter","format","RGBFormat","wrapS","ClampToEdgeWrapping","wrapT","map","glassMaterial","MeshPhongMaterial","specular","r","g","b","transparent","opacity","shininess","hasClass","phoneGroup","Group","screenGeometry","PlaneGeometry","screen","Mesh","receiveShadow","y","add","glass","load","geometry","materials","material","MultiMaterial","object","castShadow","traverse","child","computeVertexNormals","i","length","tC","side","emissive","phoneObject","scale","set","TweenMax","to","rotation","de2ra","ease","Power4","easeOut","yoyo","repeat","Power2","easeInOut","onComplete","macbookGroup","macbookScreenGroup","Object3D","x","desktopGeometry","desktopScreen","macbookPivot","tempgeometry","BoxBufferGeometry","tempmaterial","mesh","delay","init","setEnvironment","setLights","each","this","animate","shadowMapSize","groundGeometry","groundMaterial","ShadowMaterial","ground","spotLight1","SpotLight","target","shadow","mapSize","height","width","intensity","penumbra","decay","angle","spotLight2","exponent","shadowGeometry","CubeGeometry","transpMaterial","plane","container","document","createElement","setAttribute","getElementsByClassName","appendChild","PerspectiveCamera","innerWidth","innerHeight","Scene","myAntialias","devicePixelRatio","renderer","WebGLRenderer","alpha","antialias","setClearColor","setPixelRatio","setSize","shadowMap","enabled","type","PCFSoftShadowMap","domElement","addEventListener","onWindowResize","windowHalfX","windowHalfY","aspect","updateProjectionMatrix","onDocumentMouseMove","event","mouseX","clientX","mouseY","clientY","prevMouseX","mousePosition","requestAnimationFrame","render","degree","Math","PI","distance","frustumHeight","tan","fov","frustumWidth","factor","hexToRgb","t","n","exec","a","parseInt","toString","rgbToHex","e","mouseDown","mouseDirection","mouseDownCoord","Object","click","stopPropagation","write","location","host","split"],"mappings":"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","file":"site.js","sourcesContent":["function addProject(section, scene) {\n\tvar area = {};\n\tfunction resizeHandler() {\n\t\tarea.screenWidth=screenWidthFromDistance(camera.position.z);\n\t\tconsole.log(area.screenWidth);\n\t}\n\t$(window).bind(\"resize\",resizeHandler);\n\tresizeHandler();\n\n\tvar loader = new THREE.JSONLoader();\n\t\n\tvar screenMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff });\t\n\tvar video = $(section).find(\"video\")[0];\n\n\tvar videoTexture = new THREE.VideoTexture( video );\n\tvideoTexture.minFilter = THREE.LinearFilter;\n\tvideoTexture.magFilter = THREE.LinearFilter;\n\tvideoTexture.format = THREE.RGBFormat;\n\tvideoTexture.wrapS = THREE.ClampToEdgeWrapping;\n\tvideoTexture.wrapT = THREE.ClampToEdgeWrapping;\n\tscreenMaterial.map = videoTexture;\n\n\tvar glassMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff  });\n\tglassMaterial.specular.r=1;\n\tglassMaterial.specular.g=1;\n\tglassMaterial.specular.b=1;\n\tglassMaterial.transparent = true;\n\tglassMaterial.opacity = 0.1;\n\tglassMaterial.shininess = 0.2;\n\n\tif ($(section).hasClass(\"mobile\")) {\n\t\tvar phoneGroup = new THREE.Group();\n\t\tvar screenGeometry = new THREE.PlaneGeometry( 0.55, 0.983, 1 );\n\t\tvar screen = new THREE.Mesh( screenGeometry, screenMaterial );\n\t\tscreen.receiveShadow = false;\n\t\tscreen.position.z = 0.0292;\n\t\tscreen.position.y = 0.05;\n\t\tscreen.receiveShadow = false;\n\t\tscreen.position.z = 0.0292;\n\t\tscreen.position.y = 0.05;\n\t\tphoneGroup.add( screen );\n\n\t\tvar glass = new THREE.Mesh( screenGeometry, glassMaterial );\n\t\tglass.receiveShadow = true;\n\t\tglass.position.z = 0.0293;\n\t\tglass.position.y = 0.05;\n\t\tglass.transparent = true;\t\t\n\t\t// phoneGroup.add(glass);\n\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/phone.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\t\t\t\t\n\t\t\t\tobject.position.y=-0.6;\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t        if ( child instanceof THREE.Mesh ) {\n\t\t            child.geometry.computeVertexNormals();\n\t\t        }\n\t\t        phoneGroup.position.y=-5;\n\t\t        phoneGroup.position.z=-1;\n\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\tobject.material.materials[i].specular.r=tC;\n\t\t\t\t\tobject.material.materials[i].specular.g=tC;\n\t\t\t\t\tobject.material.materials[i].specular.b=tC;\t\n\t\t\t\t\tobject.material.materials[i].emissive.r=.0;\n\t\t\t\t\tobject.material.materials[i].emissive.g=.0;\n\t\t\t\t\tobject.material.materials[i].emissive.b=.0;\n\t\t\t\t\tobject.material.materials[i].shininess=10;\t\n\t\t        } \n\t\t\t\tphoneGroup.add( object );\n\t\t    });\n\n\t\t\tphoneObject = object;\n\t\t\tphoneGroup.position.z=0;\n\t\t\tphoneGroup.position.y=-1;\n\t\t\tphoneGroup.scale.set( 25, 25, 25 );\n\t\t\tphoneGroup.castShadow = true;\n\n\t\t\t// phone1 = phoneGroup.clone();\n\t\t\t// phone1.position.x=-25;\n\t\t\t// phone1.position.z = -20;\n\t\t\t\n\t\t\tTweenMax.to(phoneGroup.rotation, 1.5, {y:de2ra(0),  ease:Power4.easeOut});\n\t\t\tvar tween = TweenMax.to(phoneGroup.position, 3.5,{ y:0, yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\n\t\t\t// setTimeout(function() {\n\t\t\t// \tvar tween = TweenMax.to(phone1.position, 3.5,{ y:0, yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\n\t\t\t// },1500);\n\t\t\t\n\t\t\t\n\t\t});\n\t\tscene.add( phoneGroup );\n\t} else if ($(section).hasClass(\"desktop\")) {\n\t\tvar macbookGroup = new THREE.Group();\n\t\tvar macbookScreenGroup = new THREE.Object3D();\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/screen.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\t\n\t\t\t\tobject.position.y=0;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t// object.rotation.y=de2ra(180);\n\t\t\t\t\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t        if ( child instanceof THREE.Mesh ) {\n\t\t            child.geometry.computeVertexNormals();\n\t\t        }\n\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\tobject.material.materials[i].specular.r=tC;\n\t\t\t\t\tobject.material.materials[i].specular.g=tC;\n\t\t\t\t\tobject.material.materials[i].specular.b=tC;\t\n\t\t\t\t\tobject.material.materials[i].emissive.r=.0;\n\t\t\t\t\tobject.material.materials[i].emissive.g=.0;\n\t\t\t\t\tobject.material.materials[i].emissive.b=.0;\n\t\t\t\t\tobject.material.materials[i].shininess=8;\t\n\t\t        }\n\t\t\t\tmacbookScreenGroup.add( object );\n\t\t    });\n\t\t});\n\n\t\tvar desktopGeometry = new THREE.PlaneGeometry( 8.7, 5.8, 1 );\n\n\t\tvar desktopScreen = new THREE.Mesh( desktopGeometry, screenMaterial );\n\t\tdesktopScreen.position.z = -3.16;\n\t\tdesktopScreen.position.y = 3.3;\n\t\tdesktopScreen.rotation.x = de2ra(1);\n\n\t\tmacbookScreenGroup.add(desktopScreen);\n\n\t\t// var desktopGlass = new THREE.Mesh(desktopGeometry, glassMaterial);\n\t\t// desktopGlass.receiveShadow = true;\n\t\t// desktopGlass.position.z = -3;\n\t\t// desktopGlass.position.y = 3.3;\n\t\t// desktopGlass.rotation.x = de2ra(1);\n\t\t// desktopGlass.transparent = false;\n\t\t// macbookScreenGroup.add(desktopGlass);\n\n\t\tvar macbookPivot = new THREE.Object3D();\n\t\tvar tempgeometry = new THREE.BoxBufferGeometry( 200, 200, 200 );\n\t\tvar tempmaterial = new THREE.MeshBasicMaterial( { color: 0xffffff } );\t\n\t\tmesh = new THREE.Mesh( tempgeometry, tempmaterial );\n\t\tmacbookPivot.add( mesh );\n\t\t\n\t\tmacbookScreenGroup.position.z=3;\n\t\tmacbookPivot.add(macbookScreenGroup);\n\t\tmacbookPivot.position.z=-2.8;\n\t\tmacbookPivot.rotation.x=de2ra(90);\n\t\tvar openLid = TweenMax.to(macbookPivot.rotation, 1, { x:0, ease:Power4.easeInOut});\n\t\tvar turnOnScreen = TweenMax.to(screenMaterial, 0.3, {opacity:1, delay:0.5});\n\t\tmacbookGroup.add(macbookPivot);\n\n\t\t// macbookGroup.rotation.y=de2ra(90);\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/keyboard.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\t\n\t\t\t\tobject.position.y=0;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t        if ( child instanceof THREE.Mesh ) {\n\t\t            child.geometry.computeVertexNormals();\n\t\t        }\n\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\tobject.material.materials[i].specular.r=tC;\n\t\t\t\t\tobject.material.materials[i].specular.g=tC;\n\t\t\t\t\tobject.material.materials[i].specular.b=tC;\t\n\t\t\t\t\tobject.material.materials[i].emissive.r=.0;\n\t\t\t\t\tobject.material.materials[i].emissive.g=.0;\n\t\t\t\t\tobject.material.materials[i].emissive.b=.0;\n\t\t\t\t\tobject.material.materials[i].shininess=1.5;\t\n\t\t        }\n\t\t\t\tmacbookGroup.add( object );\n\t\t    });\n\t\t});\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/keys.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\t\n\t\t\t\tobject.position.y=0;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t        if ( child instanceof THREE.Mesh ) {\n\t\t            child.geometry.computeVertexNormals();\n\t\t        }\n\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\tobject.material.materials[i].specular.r=tC;\n\t\t\t\t\tobject.material.materials[i].specular.g=tC;\n\t\t\t\t\tobject.material.materials[i].specular.b=tC;\t\n\t\t\t\t\tobject.material.materials[i].emissive.r=.0;\n\t\t\t\t\tobject.material.materials[i].emissive.g=.0;\n\t\t\t\t\tobject.material.materials[i].emissive.b=.0;\n\t\t\t\t\tobject.material.materials[i].shininess=21;\t\n\t\t        }\n\t\t\t\tmacbookGroup.add( object );\n\t\t    });\n\t\t});\t\n\n\t\tmacbookGroup.position.y=-10;\n\t\tmacbookGroup.position.z=10;\n\t\tmacbookGroup.scale.set(4,4,4);\n\t\t// scene.add(macbookGroup);\n\t\tvar tween1 = TweenMax.to(macbookGroup.position, 3.5,{ y:-9, yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\n\t\t// var tween2 = TweenMax.to(macbookGroup.rotation, 3.5,{ y:de2ra(360), yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\n\t}\t\t\n}","// var multiSearch = function() {\n// \tvar defaultSearchPlatform = \"spotify\";\n// \tvar select;\n\n\t\n// \treturn {\n// \t\tInit: function() {\n\t\t\t\n// \t\t}\n// \t}\n// }();\n\n// $(function() {\n// \tmultiSearch.Init();\n// })\n\n$(function() {\n\tinit();\t\n});\n\n// if ( ! Detector.webgl ) Detector.addGetWebGLMessage();\n\nvar camera, scene, renderer;\nvar mouseX = 0, prevMouseX = 0, mouseY = 0, mouseDown = false, mouseDirection;\nvar windowHalfX = window.innerWidth / 2;\nvar windowHalfY = window.innerHeight / 2;\nvar mouseDownCoord = new Object();\n\nfunction init() {\n\n\tsetEnvironment();\n\tsetLights();\n\t\n\t$(\"section\").each(function() {\n\t\taddProject(this,scene);\n\t});\n\n\tanimate();\n}\nfunction setLights() {\n\tvar shadowMapSize = 512;\n\tvar groundGeometry = new THREE.PlaneGeometry( 250, 250, 1 );\n\tvar groundMaterial = new THREE.ShadowMaterial();\n\tgroundMaterial.opacity = .3;\n\tvar ground = new THREE.Mesh(groundGeometry, groundMaterial);\n\tground.receiveShadow = true;\n\tground.rotation.x=55;\n\tground.position.y=-20;\n\tground.transparent = true;\n\tscene.add(ground);\n\n\tvar spotLight1 = new THREE.SpotLight( 0xffffff); \n\tspotLight1.castShadow = false;\n\tspotLight1.position.set( 20, 55, 20 ); \n\tspotLight1.target.position.set(00, 15, 0 );\n\tspotLight1.shadow.mapSize.height = shadowMapSize;\n\tspotLight1.shadow.mapSize.width = shadowMapSize;\n\tspotLight1.intensity = 0.15;\n\tspotLight1.penumbra = 1.5;\n\tspotLight1.decay = 2;\n\tspotLight1.angle = de2ra(25);\n\tscene.add( spotLight1 );\n\n\tvar spotLight2 = new THREE.SpotLight( 0xFFFFFF); \n\tspotLight2.castShadow = true;\n\tspotLight2.position.set( 0, 50, -10 ); \n\tspotLight2.target.position.set( 0, 5, -10 );\n\tspotLight2.shadow.mapSize.height = 1024;\n\tspotLight2.shadow.mapSize.width = 1024;\n\tspotLight2.intensity = .15;\n\tspotLight2.exponent = .05;\n\tspotLight2.angle = de2ra(85);\n\tscene.add( spotLight2 );\n\n\tvar shadowGeometry = new THREE.CubeGeometry( 35, 15, 1 );\n\tvar transpMaterial = new THREE.ShadowMaterial();\n\ttranspMaterial.opacity = 0.1;\n\tvar plane = new THREE.Mesh( shadowGeometry, transpMaterial );\n\tplane.receiveShadow = true;\n\tplane.position.z = -2.7;\n\tscene.add( plane );\n}\n\n\nfunction setEnvironment() {\n\tvar container = document.createElement( 'div' );\n\tcontainer.setAttribute(\"class\",\"content\");\n\tdocument.getElementsByClassName('devices')[0].appendChild( container );\n\n\tcamera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 1, 2000 );\n\tcamera.position.z = 60;\n\tscene = new THREE.Scene();\n\n\tvar myAntialias=true;\n\tif (window.devicePixelRatio>1) {\n\t\tmyAntialias=false;\n\t}\n\trenderer = new THREE.WebGLRenderer( {alpha: true, antialias: myAntialias });\n\trenderer.setClearColor( 0x000000, 0 );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.shadowMap.enabled\t= true;\n\trenderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\tcontainer.appendChild( renderer.domElement );\n\n\tvar element = renderer.domElement;\n\twindow.addEventListener( 'resize', onWindowResize, false );\n\tanimate();\n}\n\nfunction onWindowResize() {\n\twindowHalfX = window.innerWidth / 2;\n\twindowHalfY = window.innerHeight / 2;\n\n\tcamera.aspect = window.innerWidth / window.innerHeight;\n\tcamera.updateProjectionMatrix();\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n}\n\nvar mousePosition = { x:0, y:0 };\ndocument.addEventListener( 'mousemove', onDocumentMouseMove, false ); \nfunction onDocumentMouseMove( event ) {\n\tmouseX = windowHalfX - event.clientX;\n\tmouseY = windowHalfY - event.clientY;\n\tprevMouseX=mouseX;\n\tTweenMax.to(mousePosition, 1, {x: mouseX, y:mouseY});\n}\n\n\n\n\nfunction animate() {\n\trequestAnimationFrame( animate );\n\trender();\n}\n\nfunction render() {\n\t// var time = Date.now();\n\tcamera.position.x = ( mousePosition.x - camera.position.x ) * 0.003;\n\tcamera.position.y = ( - mousePosition.y - camera.position.y ) * 0.003;\n\trenderer.render( scene, camera );\n}\n\t\n\t\nfunction de2ra(degree) { \n\treturn degree*(Math.PI/180);\n}\nfunction screenWidthFromDistance(distance) {\n\tvar aspect = window.innerWidth / window.innerHeight;\n\tvar frustumHeight = 2.0 * distance * Math.tan(camera.fov * 0.5 * (Math.PI/180));\n\tvar frustumWidth = frustumHeight * aspect;\n\tconsole.log(frustumWidth, frustumHeight);\n\tvar factor = window.innerWidth/frustumWidth;\n\treturn window.innerWidth * factor;\n}\nfunction hexToRgb(r,t){var n=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(r),a=function(){return void 0==this.alpha?\"rgb(\"+this.r+\", \"+this.g+\", \"+this.b+\")\":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),\"rgba(\"+this.r+\", \"+this.g+\", \"+this.b+\", \"+this.alpha+\")\")};return void 0==t?n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),toString:a}:null:(t>1?t=1:0>t&&(t=0),n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),alpha:t,toString:a}:null)}function rgbToHex(r,t,n){function a(r){var t=r.toString(16);return 1==t.length?\"0\"+t:t}if(void 0==t||void 0==n){if(\"string\"==typeof r){var i=/^rgb[a]?\\(([\\d]+)[ \\n]*,[ \\n]*([\\d]+)[ \\n]*,[ \\n]*([\\d]+)[ \\n]*,?[ \\n]*([.\\d]+)?[ \\n]*\\)$/i.exec(r);return rgbToHex(parseInt(i[1]),parseInt(i[2]),parseInt(i[3]))}return void 0==r.r||void 0==r.g||void 0==r.b?null:rgbToHex(r.r,r.g,r.b)}var e=r;return\"#\"+a(e)+a(t)+a(n)}\n$(\".controls a\").click(function(e) {\n\te.stopPropagation();\n});\n\n","\n\tdocument.write('<script src=\"http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1\"></' + 'script>');\n\t// console.log(\"in debug mode\");\n"]}
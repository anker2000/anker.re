{"version":3,"sources":["add_project.js","interface.js","livereload.js","tools.js"],"names":["addProject","section","stage","resizeHandler","area","screenWidth","screenWidthFromDistance","camera","position","z","console","log","sectionObject","THREE","Group","$","window","bind","loader","JSONLoader","loader1","screenMaterial","MeshBasicMaterial","color","video","find","videoTexture","VideoTexture","minFilter","LinearFilter","magFilter","format","RGBFormat","wrapS","ClampToEdgeWrapping","wrapT","map","screenMaterial2","glassMaterial","MeshPhongMaterial","specular","r","g","b","transparent","opacity","shininess","color_light","hexToRgb","data","color_dark","hasClass","phoneGroup","screenGeometry","PlaneGeometry","screen","Mesh","receiveShadow","y","add","glass","load","geometry","materials","material","MultiMaterial","object","castShadow","traverse","child","i","length","side","emissive","phoneObject","scale","set","rotation","x","de2ra","TweenMax","to","ease","Power4","easeOut","yoyo","repeat","Power2","easeInOut","onComplete","phoneGroup1","screen1","macbookGroup","macbookScreenGroup","Object3D","desktopGeometry","desktopScreen","desktopGlass","macbookPivot","tempgeometry","BoxBufferGeometry","tempmaterial","mesh","delay","updatePosition","this","count","start","attr","css","setTimeout","init","setEnvironment","setLights","each","elm","sections","push","scrollHandler","animate","shadowMapSize","groundGeometry","groundMaterial","ShadowMaterial","ground","scene","spotLight1","SpotLight","target","intensity","penumbra","decay","angle","spotLight2","shadow","mapSize","height","width","exponent","scrollPercentage","scrollTop","scrollHeight","innerHeight","activeSection","Math","floor","prevActiveSection","container","document","createElement","setAttribute","getElementsByClassName","appendChild","PerspectiveCamera","setFOV","innerWidth","Scene","myAntialias","devicePixelRatio","renderer","WebGLRenderer","alpha","antialias","setClearColor","setPixelRatio","setSize","shadowMap","enabled","type","PCFSoftShadowMap","domElement","element","style","addEventListener","onWindowResize","windowHalfX","windowHalfY","aspect","updateProjectionMatrix","overlay","fov","onDocumentMouseMove","event","mouseX","clientX","mouseY","clientY","prevMouseX","mousePosition","requestAnimationFrame","render","degree","PI","distance","frustumHeight","tan","frustumWidth","map_range","t","n","exec","a","parseInt","toString","rgbToHex","e","mouseDown","mouseDirection","mouseDownCoord","Object","background","light","dark","click","stopPropagation","write","location","host","split","value","low1","high1","low2","high2"],"mappings":"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","file":"site.js","sourcesContent":["function addProject(section, stage) {\n\tvar sectionObject = new THREE.Group();\n\tvar area = {};\n\tfunction resizeHandler() {\n\t\tarea.screenWidth=screenWidthFromDistance(camera.position.z);\n\t\tconsole.log(area.screenWidth);\n\t}\n\t$(window).bind(\"resize\",resizeHandler);\n\tresizeHandler();\n\n\tvar loader = new THREE.JSONLoader();\n\tvar loader1 = new THREE.JSONLoader();\n\t\n\tvar screenMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff });\t\n\tvar video = $(section).find(\"video\")[0];\n\n\tvar videoTexture = new THREE.VideoTexture( video );\n\tvideoTexture.minFilter = THREE.LinearFilter;\n\tvideoTexture.magFilter = THREE.LinearFilter;\n\tvideoTexture.format = THREE.RGBFormat;\n\tvideoTexture.wrapS = THREE.ClampToEdgeWrapping;\n\tvideoTexture.wrapT = THREE.ClampToEdgeWrapping;\n\tscreenMaterial.map = videoTexture;\n\n\tvar screenMaterial2 = new THREE.MeshBasicMaterial({ color: 0xdedede });\t\n\tvar glassMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff  });\n\tglassMaterial.specular.r=1;\n\tglassMaterial.specular.g=1;\n\tglassMaterial.specular.b=1;\n\tglassMaterial.transparent = true;\n\tglassMaterial.opacity = 0.1;\n\tglassMaterial.shininess = 10;\n\n\tvar color_light = hexToRgb($(section).data(\"device-light\"));\n\tvar color_dark = hexToRgb($(section).data(\"device-dark\"));\n\tconsole.log(color_light.r, color_dark);\n\n\tif ($(section).hasClass(\"mobile\")) {\n\t\tvar phoneGroup = new THREE.Group();\n\t\tvar screenGeometry = new THREE.PlaneGeometry( 0.55, 0.983, 1 );\n\t\tvar screen = new THREE.Mesh( screenGeometry, screenMaterial2 );\n\t\tscreen.receiveShadow = false;\n\t\tscreen.position.z = 0.0292;\n\t\tscreen.position.y = 0.05;\n\t\tscreen.receiveShadow = false;\n\t\tscreen.position.z = 0.0292;\n\t\tscreen.position.y = 0.05;\n\t\tphoneGroup.add( screen );\n\n\t\tvar glass = new THREE.Mesh( screenGeometry, glassMaterial );\n\t\tglass.receiveShadow = true;\n\t\tglass.position.z = 0.0293;\n\t\tglass.position.y = 0.05;\n\t\tglass.transparent = true;\t\t\n\t\t// phoneGroup.add(glass);\n\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/phone.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\t\t\t\t\n\t\t\t\tobject.position.y=-0.6;\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tobject.receiveShadow = true;\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t\t        phoneGroup.position.y=-5;\n\t\t\t        phoneGroup.position.z=-1;\n\t\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t\t        \tvar tC = .75;\n\t\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\t\tobject.material.materials[i].specular.r = color_dark.r/255;\n\t\t\t\t\t\tobject.material.materials[i].specular.g = color_dark.g/255;\n\t\t\t\t\t\tobject.material.materials[i].specular.b = color_dark.b/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.r = color_light.r/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.g = color_light.g/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.b = color_light.b/255;\n\t\t\t        } \n\t\t\t\t\tphoneGroup.add( object );\n\t\t    \t}\n\t\t    );\n\n\t\t\tphoneObject = object;\n\t\t\tphoneGroup.position.z=0;\n\t\t\tphoneGroup.position.y=-1;\n\t\t\tphoneGroup.scale.set( 30, 30, 30 );\n\t\t\tphoneGroup.castShadow = true;\n\t\t\tphoneGroup.rotation.x=de2ra(-65);\n\t\t\tphoneGroup.rotation.z=de2ra(20);\n\n\t\t\tTweenMax.to(phoneGroup.rotation, 1.5, {y:de2ra(0),  ease:Power4.easeOut});\n\t\t\tvar tween = TweenMax.to(phoneGroup.position, 3.5,{ y:0, yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\t\n\t\t\t\n\t\t});\n\t\tsectionObject.add(phoneGroup);\n\t\tvar phoneGroup1 = new THREE.Group();\n\t\tvar screen1 = new THREE.Mesh( screenGeometry, screenMaterial );\n\t\tscreen1.receiveShadow = false;\n\t\tscreen1.position.z = 0.0292;\n\t\tscreen1.position.y = 0.05;\n\t\tscreen1.receiveShadow = false;\n\t\tscreen1.position.z = 0.0292;\n\t\tscreen1.position.y = 0.05;\n\t\tphoneGroup1.add( screen1 );\n\t\tloader1.load(\n\t\t\t// resource URL\n\t\t\t'models/phone.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\t\t\t\t\n\t\t\t\tobject.position.y=-0.6;\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tobject.receiveShadow = true;\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t\t        phoneGroup1.position.y=-5;\n\t\t\t        phoneGroup1.position.z=-1;\n\t\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t\t        \tvar tC = .75;\n\t\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\t\tobject.material.materials[i].specular.r = color_dark.r/255;\n\t\t\t\t\t\tobject.material.materials[i].specular.g = color_dark.g/255;\n\t\t\t\t\t\tobject.material.materials[i].specular.b = color_dark.b/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.r = color_light.r/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.g = color_light.g/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.b = color_light.b/255;\n\t\t\t        } \n\t\t\t\t\tphoneGroup1.add( object );\n\t\t    \t}\n\t\t    );\n\n\t\t\tphoneObject = object;\n\t\t\tphoneGroup1.position.z=0;\n\t\t\tphoneGroup1.position.y=14;\n\t\t\tphoneGroup1.scale.set( 30, 30, 30 );\n\t\t\tphoneGroup1.castShadow = true;\n\t\t\tphoneGroup1.rotation.x=de2ra(-35);\n\t\t\tphoneGroup1.rotation.z=de2ra(-20);\n\n\t\t\tTweenMax.to(phoneGroup1.rotation, 1.5, {y:de2ra(0),  ease:Power4.easeOut});\n\t\t\tvar tween = TweenMax.to(phoneGroup1.position, 3.5,{ y:13, yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\t\n\t\t\t\n\t\t});\n\t\tsectionObject.add(phoneGroup1);\n\t\t\n\t} else if ($(section).hasClass(\"desktop\")) {\n\t\tvar macbookGroup = new THREE.Group();\n\t\tvar macbookScreenGroup = new THREE.Object3D();\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/screen.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\t\n\t\t\t\tobject.position.y=0;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t// object.rotation.y=de2ra(180);\n\t\t\t\t\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t\t        \n\t\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t\t        \tvar tC = .75;\n\t\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\t\tobject.material.materials[i].specular.r = color_dark.r/255;\n\t\t\t\t\t\tobject.material.materials[i].specular.g = color_dark.g/255;\n\t\t\t\t\t\tobject.material.materials[i].specular.b = color_dark.b/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.r = color_light.r/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.g = color_light.g/255;\n\t\t\t\t\t\tobject.material.materials[i].emissive.b = color_light.b/255;\n\t\t\t\t\t\tobject.material.materials[i].shininess=8;\t\n\t\t\t        }\n\t\t\t\t\tmacbookScreenGroup.add( object );\n\t\t\t    });\n\t\t\t}\n\t\t);\n\n\t\tvar desktopGeometry = new THREE.PlaneGeometry( 8.7, 5.8, 1 );\n\n\t\tvar desktopScreen = new THREE.Mesh( desktopGeometry, screenMaterial );\n\t\tdesktopScreen.position.z = -3.16;\n\t\tdesktopScreen.position.y = 3.3;\n\t\tdesktopScreen.rotation.x = de2ra(1);\n\n\t\tmacbookScreenGroup.add(desktopScreen);\n\n\t\tvar desktopGlass = new THREE.Mesh(desktopGeometry, glassMaterial);\n\t\tdesktopGlass.receiveShadow = true;\n\t\tdesktopGlass.position.z = -3.16;\n\t\tdesktopGlass.position.y = 3.3;\n\t\tdesktopGlass.rotation.x = de2ra(1);\n\t\t// macbookScreenGroup.add(desktopGlass);\n\n\t\tvar macbookPivot = new THREE.Object3D();\n\t\tvar tempgeometry = new THREE.BoxBufferGeometry( 200, 200, 200 );\n\t\tvar tempmaterial = new THREE.MeshBasicMaterial( { color: 0xffffff } );\t\n\t\tmesh = new THREE.Mesh( tempgeometry, tempmaterial );\n\t\tmacbookPivot.add( mesh );\n\t\t\n\t\tmacbookScreenGroup.position.z=3;\n\t\tmacbookPivot.add(macbookScreenGroup);\n\t\tmacbookPivot.position.z=-2.8;\n\t\tmacbookPivot.rotation.x=de2ra(90);\n\t\tvar openLid = TweenMax.to(macbookPivot.rotation, 1, { x:0, ease:Power4.easeInOut});\n\t\tvar turnOnScreen = TweenMax.to(screenMaterial, 0.3, {opacity:1, delay:0.5});\n\t\tmacbookGroup.add(macbookPivot);\n\n\t\t// macbookGroup.rotation.y=de2ra(90);\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/keyboard.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\t\n\t\t\t\tobject.castShadow=true;\n\t\t\t\t\n\t\t        \n\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\tobject.material.materials[i].specular.r = color_dark.r/255;\n\t\t\t\t\tobject.material.materials[i].specular.g = color_dark.g/255;\n\t\t\t\t\tobject.material.materials[i].specular.b = color_dark.b/255;\n\t\t\t\t\tobject.material.materials[i].emissive.r = color_light.r/255;\n\t\t\t\t\tobject.material.materials[i].emissive.g = color_light.g/255;\n\t\t\t\t\tobject.material.materials[i].emissive.b = color_light.b/255;\n\t\t\t\t\tobject.material.materials[i].shininess=1.5;\t\n\t\t        }\n\t\t\t\tmacbookGroup.add( object );\n\t\t\t    \n\t\t\t\n\t\t});\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/keys.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\t\n\t\t\t\tobject.position.y=0.005;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t\n\t\t\t\tobject.castShadow=true;\n\t\t\t\t\n\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t        \tobject.material.materials[i].side=2;\n\t\t\t\t\tobject.material.materials[i].specular.r = color_dark.r/255;\n\t\t\t\t\tobject.material.materials[i].specular.g = color_dark.g/255;\n\t\t\t\t\tobject.material.materials[i].specular.b = color_dark.b/255;\n\t\t\t\t\tobject.material.materials[i].emissive.r = color_light.r/255;\n\t\t\t\t\tobject.material.materials[i].emissive.g = color_light.g/255;\n\t\t\t\t\tobject.material.materials[i].emissive.b = color_light.b/255;\n\t\t\t\t\tobject.material.materials[i].shininess=21;\t\n\t\t        }\n\t\t\t\tmacbookGroup.add( object );\n\t\t    \t\n\t\t    }\n\t\t);\t\n\n\t\tmacbookGroup.position.y=-10;\n\t\tmacbookGroup.position.z=4;\n\t\tmacbookGroup.scale.set(4,4,4);\n\t\t// scene.add(macbookGroup);\n\t\tsectionObject.add(macbookGroup);\n\n\t\tsectionObject.position.z=5;\n\t\tvar tween1 = TweenMax.to(macbookGroup.position, 3.5,{ y:-9, yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\n\t\t// var tween2 = TweenMax.to(macbookGroup.rotation, 3.5,{ y:de2ra(360), yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\n\t}\n\tsectionObject.updatePosition = function() {\n\t\tthis.position.x = this.count*screenWidthFromDistance(60);\n\t}\n\tsectionObject.start = function() {\n\t\tconsole.log(\"new section\",section, $(section).attr(\"data-bg-light\"), $(section).attr(\"data-bg-dark\"));\n\t\t$(\"body\").css(\"background\",$(section).data(\"bg-dark\"));\n\t\t// $(\".current_project *\").css(\"color\",$(section).data(\"bg-light\"));\n\t}\n\tstage.add( sectionObject );\n\t\n\tsetTimeout(function(sectionObject) {\n\t\tsectionObject.position.x = sectionObject.count*screenWidthFromDistance(60);\n\t},100,sectionObject);\n\treturn sectionObject;\n}","// var multiSearch = function() {\n// \tvar defaultSearchPlatform = \"spotify\";\n// \tvar select;\n\n\t\n// \treturn {\n// \t\tInit: function() {\n\t\t\t\n// \t\t}\n// \t}\n// }();\n\n// $(function() {\n// \tmultiSearch.Init();\n// })\n\n$(function() {\n\tinit();\t\n});\n\n// if ( ! Detector.webgl ) Detector.addGetWebGLMessage();\n\nvar camera, scene, stage, renderer;\nvar mouseX = 0, prevMouseX = 0, mouseY = 0, mouseDown = false, mouseDirection;\nvar windowHalfX = window.innerWidth / 2;\nvar windowHalfY = window.innerHeight / 2;\nvar mouseDownCoord = new Object();\nvar sections = [], activeSection = 0, prevActiveSection = null, background = { light: { r:0, g:0, b:0 }, dark: { r:0, g:0, b:0 } };\nfunction init() {\n\n\tsetEnvironment();\n\tsetLights();\n\t\n\t$(\"section\").each(function(i,elm) {\n\t\tsections.push(addProject(elm,stage));\n\t\tsections[i].count=i;\n\t});\n\tscrollHandler();\n\tanimate();\n}\nfunction setLights() {\n\tvar shadowMapSize = 1024;\n\tvar groundGeometry = new THREE.PlaneGeometry( 250, 250, 1 );\n\tvar groundMaterial = new THREE.ShadowMaterial();\n\tgroundMaterial.opacity = .07;\n\tvar ground = new THREE.Mesh(groundGeometry, groundMaterial);\n\tground.receiveShadow = true;\n\tground.rotation.x=55;\n\tground.position.y=-22;\n\tground.transparent = true;\n\tscene.add(ground);\n\n\tvar spotLight1 = new THREE.SpotLight( 0xffffff); \n\tspotLight1.castShadow = false;\n\tspotLight1.position.set( 20, 55, 20 ); \n\tspotLight1.target.position.set(0, 0, -10 );\n\tspotLight1.intensity = .45;\n\tspotLight1.penumbra = 1.5;\n\tspotLight1.decay = 2;\n\tspotLight1.angle = de2ra(15);\n\tscene.add( spotLight1 );\n\tscene.add(spotLight1.target);\n\n\tvar spotLight2 = new THREE.SpotLight( 0xFFFFFF); \n\tspotLight2.castShadow = true;\n\tspotLight2.position.set( 0, 50, -10 ); \n\t// spotLight2.target.position.set( 0, 5, -10 );\n\tspotLight2.shadow.mapSize.height = shadowMapSize;\n\tspotLight2.shadow.mapSize.width = shadowMapSize;\n\tspotLight2.intensity = .15;\n\tspotLight2.exponent = .05;\n\tspotLight2.angle = de2ra(75);\n\tscene.add( spotLight2 );\n\tscene.add(spotLight2.target);\n\n\t// var shadowGeometry = new THREE.CubeGeometry( 35, 15, 1 );\n\t// var transpMaterial = new THREE.ShadowMaterial();\n\t// transpMaterial.opacity = 0.1;\n\t// var plane = new THREE.Mesh( shadowGeometry, transpMaterial );\n\t// plane.receiveShadow = true;\n\t// plane.position.z = -2.7;\n\t// scene.add( plane );\n}\n\nfunction scrollHandler() {\n\tscrollPercentage = $(\".projects\").scrollTop() / ($(\".projects\")[0].scrollHeight-$(window).innerHeight());\n\tactiveSection = Math.floor(scrollPercentage * sections.length);\n\tif (activeSection == sections.length) activeSection -=1;\n\tif (activeSection != prevActiveSection) {\n\t\tconsole.log(\"starting section \",activeSection)\n\t\tsections[activeSection].start();\n\t}\n\tprevActiveSection = activeSection;\n\tstage.position.x=0-scrollPercentage*(screenWidthFromDistance(60)*(sections.length-1));\n}\nfunction setEnvironment() {\n\tvar container = document.createElement( 'div' );\n\tcontainer.setAttribute(\"class\",\"content\");\n\tdocument.getElementsByClassName('devices')[0].appendChild( container );\n\n\tcamera = new THREE.PerspectiveCamera( setFOV(), window.innerWidth / window.innerHeight, 1, 2000 );\n\tcamera.position.z = 60;\n\n\n\tscene = new THREE.Scene();\n\tstage = new THREE.Group();\n\tscene.add(stage);\n\t$(\".projects\").bind(\"scroll\",scrollHandler);\n\t\n\n\n\tvar myAntialias=true;\n\tif (window.devicePixelRatio>1) {\n\t\tmyAntialias=false;\n\t}\n\trenderer = new THREE.WebGLRenderer( {alpha: true, antialias: myAntialias });\n\trenderer.setClearColor( 0xff0000, 0 );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.shadowMap.enabled\t= true;\n\trenderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\tcontainer.appendChild( renderer.domElement );\n\n\tvar element = renderer.domElement;\n\telement.style.position='absolute';\n\twindow.addEventListener( 'resize', onWindowResize, false );\n\tanimate();\n}\n\nfunction onWindowResize() {\n\twindowHalfX = window.innerWidth / 2;\n\twindowHalfY = window.innerHeight / 2;\n\n\tcamera.aspect = window.innerWidth / window.innerHeight;\n\tcamera.updateProjectionMatrix();\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\toverlay.width=window.innerWidth;\n\toverlay.height=window.innerHeight;\n\tcamera.fov = setFOV();\n\tscrollHandler();\n\tfor (i=0;i<sections.length;i++) {\n\t\tsections[i].updatePosition();\n\t}\n}\n\nvar mousePosition = { x:0, y:0 };\ndocument.addEventListener( 'mousemove', onDocumentMouseMove, false ); \nfunction onDocumentMouseMove( event ) {\n\tmouseX = windowHalfX - event.clientX;\n\tmouseY = windowHalfY - event.clientY;\n\tprevMouseX=mouseX;\n\tTweenMax.to(mousePosition, 1, {x: mouseX, y:mouseY});\n}\n\n\n\n\nfunction animate() {\n\trequestAnimationFrame( animate );\n\trender();\n}\n\nfunction render() {\n\t// var time = Date.now();\n\n\tcamera.position.x = ( mousePosition.x - camera.position.x ) * 0.003;\n\tcamera.position.y = ( - mousePosition.y - camera.position.y ) * 0.003;\n\trenderer.render( scene, camera );\n\t\n\t// underlayCtx.clearRect(0,0, window.innerWidth, window.innerHeight);\n\t// underlayCtx.save();\n       \n //    // Create a shape, of some sort\n //    underlayCtx.beginPath();\n //    underlayCtx.moveTo(window.innerWidth, 0);\n //    underlayCtx.lineTo(0, window.innerHeight);\n //    underlayCtx.lineTo(window.innerWidth, window.innerHeight);\n //    underlayCtx.lineTo(window.innerWidth, 0);\n //    underlayCtx.closePath();\n //    // Clip to the current path\n //    underlayCtx.clip();\n\t// underlayCtx.drawImage(renderer.domElement, 0, 0, window.innerWidth, window.innerHeight);\n\t// underlayCtx.restore();\n\n\t// overlayCtx.clearRect(0,0, window.innerWidth, window.innerHeight);\n\t// overlayCtx.save();\n       \n //    // Create a shape, of some sort\n //    overlayCtx.beginPath();\n //    overlayCtx.moveTo(0, 0);\n //    overlayCtx.lineTo(window.innerWidth, 0);\n //    overlayCtx.lineTo(0, (window.innerHeight-30));\n //    overlayCtx.lineTo(0,0);\n //    overlayCtx.closePath();\n //    // Clip to the current path\n //    overlayCtx.clip();\n\t// overlayCtx.drawImage(renderer.domElement, 0, 0, window.innerWidth, window.innerHeight);\n\t// overlayCtx.restore();\n\t// renderer.domElement.style.display='none';\n\t// console.log(renderer.domElement);\n}\n\t\n\t\nfunction de2ra(degree) { \n\treturn degree*(Math.PI/180);\n}\nfunction screenWidthFromDistance(distance) {\n\tvar aspect = window.innerWidth / window.innerHeight;\n\tvar frustumHeight = 2.0 * distance * Math.tan(camera.fov * 0.5 * (Math.PI/180));\n\tvar frustumWidth = frustumHeight * aspect;\n\treturn frustumWidth;\n}\nfunction setFOV() {\n\tvar fov = map_range(window.innerWidth, 375, 1440, 95, 60);\n\tif (fov<60) fov=60;\n\tif (fov>90) fov=90;\n\treturn fov;\t\n}\nfunction hexToRgb(r,t){var n=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(r),a=function(){return void 0==this.alpha?\"rgb(\"+this.r+\", \"+this.g+\", \"+this.b+\")\":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),\"rgba(\"+this.r+\", \"+this.g+\", \"+this.b+\", \"+this.alpha+\")\")};return void 0==t?n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),toString:a}:null:(t>1?t=1:0>t&&(t=0),n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),alpha:t,toString:a}:null)}\nfunction rgbToHex(r,t,n){function a(r){var t=r.toString(16);return 1==t.length?\"0\"+t:t}if(void 0==t||void 0==n){if(\"string\"==typeof r){var i=/^rgb[a]?\\(([\\d]+)[ \\n]*,[ \\n]*([\\d]+)[ \\n]*,[ \\n]*([\\d]+)[ \\n]*,?[ \\n]*([.\\d]+)?[ \\n]*\\)$/i.exec(r);return rgbToHex(parseInt(i[1]),parseInt(i[2]),parseInt(i[3]))}return void 0==r.r||void 0==r.g||void 0==r.b?null:rgbToHex(r.r,r.g,r.b)}var e=r;return\"#\"+a(e)+a(t)+a(n)}\n$(\".controls a\").click(function(e) {\n\te.stopPropagation();\n});\n\n","\n\tdocument.write('<script src=\"http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1\"></' + 'script>');\n\t// console.log(\"in debug mode\");\n","function map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}"]}
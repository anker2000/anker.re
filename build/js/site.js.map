{"version":3,"sources":["add_project.js","interface.js","livereload.js","tools.js"],"names":["addProject","section","stage","resizeHandler","area","screenWidth","screenWidthFromDistance","camera","position","z","console","log","sectionObject","THREE","Group","$","window","bind","loader","JSONLoader","screenMaterial","MeshBasicMaterial","color","video","find","reflectionCube","CubeTextureLoader","load","format","RGBFormat","videoTexture","VideoTexture","minFilter","LinearFilter","magFilter","wrapS","ClampToEdgeWrapping","wrapT","map","screenMaterial2","glassMaterial","MeshPhongMaterial","specular","r","g","b","transparent","opacity","shininess","envMap","reflectivity","combine","MixOperation","color_light","hexToRgb","data","color_dark","hasClass","phone1","phone2","phone3","addPhone","x","de2ra","y","done","phoneGroup","TweenMax","to","rotation","ease","Power4","easeOut","yoyo","repeat","delay","Power2","easeInOut","onComplete","add","macbookGroup","macbookScreenGroup","Object3D","texture","TextureLoader","RepeatWrapping","set","material","MeshStandardMaterial","side","DoubleSide","metalness","roughness","roughnessMap","geometry","materials","object","Mesh","castShadow","traverse","child","emissive","desktopGeometry","PlaneGeometry","desktopScreen","desktopGlass","receiveShadow","macbookPivot","tempgeometry","BoxBufferGeometry","tempmaterial","mesh","MultiMaterial","i","length","scale","updatePosition","this","count","start","attr","css","setTimeout","deferred","Deferred","screenGeometry","screen","glass","computeFaceNormals","resolve","promise","init","setEnvironment","setLights","each","elm","sections","push","play","scrollHandler","animate","shadowMapSize","groundGeometry","groundMaterial","ShadowMaterial","ground","scene","light","AmbientLight","spotLight1","SpotLight","shadow","mapSize","height","width","intensity","penumbra","decay","angle","target","spotLight2","exponent","scrollPercentage","scrollTop","scrollHeight","innerHeight","activeSection","Math","floor","prevActiveSection","container","document","createElement","setAttribute","getElementsByClassName","appendChild","PerspectiveCamera","setFOV","innerWidth","Scene","myAntialias","devicePixelRatio","renderer","WebGLRenderer","alpha","antialias","setClearColor","setPixelRatio","setSize","shadowMap","enabled","type","PCFSoftShadowMap","domElement","element","style","addEventListener","onWindowResize","windowHalfX","windowHalfY","aspect","updateProjectionMatrix","overlay","fov","onDocumentMouseMove","event","mouseX","clientX","mouseY","clientY","prevMouseX","mousePosition","requestAnimationFrame","render","degree","PI","distance","frustumHeight","tan","frustumWidth","t","n","exec","a","parseInt","toString","rgbToHex","e","mouseDown","mouseDirection","mouseDownCoord","Object","background","dark","click","stopPropagation","write","location","host","split","map_range","value","low1","high1","low2","high2"],"mappings":"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","file":"site.js","sourcesContent":["function addProject(section, stage) {\n\tvar sectionObject = new THREE.Group();\n\tvar area = {};\n\tfunction resizeHandler() {\n\t\tarea.screenWidth=screenWidthFromDistance(camera.position.z);\n\t\tconsole.log(area.screenWidth);\n\t}\n\t$(window).bind(\"resize\",resizeHandler);\n\tresizeHandler();\n\t\n\tvar loader = new THREE.JSONLoader();\n\tvar screenMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff });\t\n\tvar video = $(section).find(\"video\")[0];\n\n\tvar reflectionCube = new THREE.CubeTextureLoader().load([\"models/environment2.jpg\",\"models/environment2.jpg\",\"models/environment2.jpg\",\"models/environment2.jpg\",\"models/environment2.jpg\",\"models/environment2.jpg\"] );\n\treflectionCube.format = THREE.RGBFormat;\n\n\tvar videoTexture = new THREE.VideoTexture( video );\n\tvideoTexture.minFilter = THREE.LinearFilter;\n\tvideoTexture.magFilter = THREE.LinearFilter;\n\tvideoTexture.format = THREE.RGBFormat;\n\tvideoTexture.wrapS = THREE.ClampToEdgeWrapping;\n\tvideoTexture.wrapT = THREE.ClampToEdgeWrapping;\n\tscreenMaterial.map = videoTexture;\n\t// screenMaterial.emissiveMap = videoTexture;\n\t// screenMaterial.emissiveIntensity = 2;\n\t// screenMaterial.reflectivity = 0;\n\n\n\tvar screenMaterial2 = new THREE.MeshBasicMaterial({ color: 0x333333 });\t\n\tvar glassMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff  });\n\tglassMaterial.specular.r=1;\n\tglassMaterial.specular.g=1;\n\tglassMaterial.specular.b=1;\n\tglassMaterial.transparent = true;\n\tglassMaterial.opacity = 0.05;\n\tglassMaterial.shininess = 20;\n\tglassMaterial.envMap = reflectionCube;\n\tglassMaterial.reflectivity = 5;\n\tglassMaterial.combine = THREE.MixOperation;\n\tvar emDarken = 1;\n\tvar color_light = hexToRgb($(section).data(\"device-light\"));\n\tvar color_dark = hexToRgb($(section).data(\"device-dark\"));\n\tconsole.log(color_light.r, color_dark);\n\n\tif ($(section).hasClass(\"mobile\")) {\n\t\tvar phone1, phone2, phone3;\n\t\t\n\t\t\n\t\taddPhone({ x:de2ra(-35), z:de2ra(-20) },{ y:23,\tx:8, z:0 }, screenMaterial, glassMaterial, loader, color_dark, color_light).done(function(phoneGroup) {\n\t\t\tTweenMax.to(phoneGroup.rotation, 1.5, {y:de2ra(0),  ease:Power4.easeOut});\n\t\t\tvar tween = TweenMax.to(phoneGroup.position, 3.5,{ y:phoneGroup.position.y-1, yoyo:true, repeat:-1, delay:0.5, ease:Power2.easeInOut, onComplete:function() {}});\t\n\t\t\tsectionObject.add(phoneGroup);\t\n\t\t\tphone1 = phoneGroup;\n\t\t});\n\n\t\taddPhone({ x:de2ra(-60), z:de2ra(20) },{ x:-8, y:7,\tz:0\t}, screenMaterial2, glassMaterial, loader, color_dark, color_light).done(function(phoneGroup) {\n\t\t\tTweenMax.to(phoneGroup.rotation, 1.5, {y:de2ra(0),  ease:Power4.easeOut});\n\t\t\tvar tween = TweenMax.to(phoneGroup.position, 3.5,{ y:phoneGroup.position.y-1, yoyo:true, repeat:-1, delay:0.5, ease:Power2.easeInOut, onComplete:function() {}});\t\n\t\t\tsectionObject.add(phoneGroup);\n\t\t\tphone2 = phoneGroup;\n\t\t});\n\n\n\t\taddPhone({ x:de2ra(-65),z:de2ra(0) },{ x:0, y:-12, z:0 }, screenMaterial2, glassMaterial, loader, color_dark, color_light).done(function(phoneGroup) {\n\t\t\tTweenMax.to(phoneGroup.rotation, 1.5, {y:de2ra(0),  ease:Power4.easeOut});\n\t\t\tvar tween = TweenMax.to(phoneGroup.position, 3.5,{ y:phoneGroup.position.y-1, yoyo:true, repeat:-1, delay:0.5, ease:Power2.easeInOut, onComplete:function() {}});\t\t\n\t\t\tsectionObject.add(phoneGroup);\n\t\t\tphone3 = phoneGroup;\n\t\t});\n\t\t\n\t} else if ($(section).hasClass(\"desktop\")) {\n\t\tvar macbookGroup = new THREE.Group();\n\t\tvar macbookScreenGroup = new THREE.Object3D();\n\n\t\tvar texture = new THREE.TextureLoader().load( \"models/macbook-texture.png\" );\n\t\ttexture.wrapS = THREE.RepeatWrapping;\n\t\ttexture.wrapT = THREE.RepeatWrapping;\n\t\ttexture.repeat.set( 12, 12 );\n\n\t\t\n        var material = new THREE.MeshStandardMaterial({ side: THREE.DoubleSide, color:0xffffff, metalness:0.5, roughness:1, map:texture, roughnessMap:texture});\n\n\t\t\n\t\t\n\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/screen-back.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\t// var material = new THREE.MultiMaterial( materials );\n\t\t\t\t\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\t\n\t\t\t\tobject.position.y=0;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t// object.rotation.y=de2ra(180);\n\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tobject.traverse( function ( child ) {\n\t\t\t        // console.log(\"screen\",object);\n\t\t\t        var color_dark = {\n\t\t\t        \tr:40,\n\t\t\t        \tg:40,\n\t\t\t        \tb:40\n\t\t\t        }\n\t\t\t        var color_light = color_dark;\n\t\t\t\t\tmacbookScreenGroup.add( object );\n\t\t\t    });\n\t\t\t}\n\t\t);\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/screen-front.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\t\n\t\t\t\tvar material = new THREE.MeshStandardMaterial({ side: THREE.DoubleSide, color:0x222222, emissive:0x0, metalness:0.7, roughness:0.2, envMap:reflectionCube });\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\t\t\t\t\n\t\t\t\tobject.position.y=0;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t// object.rotation.y=de2ra(180);\n\t\t\t\tvar color_dark = {\n\t\t\t\t\tr:0,\n\t\t\t\t\tg:0,\n\t\t\t\t\tb:0\n\t\t\t\t}\n\t\t\t\tvar color_light = color_dark;\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tmacbookScreenGroup.add( object );\n\t\t\t}\n\t\t);\n\t\t\n\n\t\tvar desktopGeometry = new THREE.PlaneGeometry( 8.7, 5.8, 1 );\n\n\t\tvar desktopScreen = new THREE.Mesh( desktopGeometry, screenMaterial );\n\t\tdesktopScreen.position.z = -3.16;\n\t\tdesktopScreen.position.y = 3.3;\n\t\tdesktopScreen.rotation.x = de2ra(1);\n\n\t\tmacbookScreenGroup.add(desktopScreen);\n\n\t\tvar desktopGlass = new THREE.Mesh(desktopGeometry, glassMaterial);\n\t\tdesktopGlass.receiveShadow = true;\n\t\tdesktopGlass.position.z = -3.16;\n\t\tdesktopGlass.position.y = 3.3;\n\t\tdesktopGlass.rotation.x = de2ra(1);\n\t\tmacbookScreenGroup.add(desktopGlass);\n\n\t\tvar macbookPivot = new THREE.Object3D();\n\t\tvar tempgeometry = new THREE.BoxBufferGeometry( 200, 200, 200 );\n\t\tvar tempmaterial = new THREE.MeshBasicMaterial( { color: 0xffffff } );\t\n\t\tmesh = new THREE.Mesh( tempgeometry, tempmaterial );\n\t\t// macbookPivot.add( mesh );\n\t\t\n\t\tmacbookScreenGroup.position.z=3.1;\n\t\tmacbookPivot.add(macbookScreenGroup);\n\t\tmacbookPivot.position.z=-3;\n\t\tmacbookPivot.position.y=0;\n\t\tmacbookPivot.rotation.x=de2ra(90);\n\t\t\n\t\tmacbookGroup.add(macbookPivot);\n\t\tloader.load(\n\t\t\t'models/keyboard.json',\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tconsole.log(\"material\",material)\n\t\t\t\tmacbookGroup.add( object );\n\t\t});\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/keys.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\t\n\t\t\t\tobject.position.y=0.005;\n\t\t\t\t// object.position.y=0.06;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tvar color_dark = {\n\t\t\t\t\tr: 0,\n\t\t\t\t\tg: 0,\n\t\t\t\t\tb: 0\n\t\t\t\t}\n\t\t\t\tvar color_light = color_dark;\n\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t        \tobject.material.materials[i].side=THREE.DoubleSide;\n\t\t\t\t\tobject.material.materials[i].specular.r = color_dark.r/255;\n\t\t\t\t\tobject.material.materials[i].specular.g = color_dark.g/255;\n\t\t\t\t\tobject.material.materials[i].specular.b = color_dark.b/255;\n\t\t\t\t\tobject.material.materials[i].emissive.r = color_light.r/255;\n\t\t\t\t\tobject.material.materials[i].emissive.g = color_light.g/255;\n\t\t\t\t\tobject.material.materials[i].emissive.b = color_light.b/255;\n\t\t\t\t\tobject.material.materials[i].shininess=21;\t\n\t\t        }\n\t\t\t\tmacbookGroup.add( object );\n\t\t    \t\n\t\t    }\n\t\t);\n\t\tloader.load(\n\t\t\t// resource URL\n\t\t\t'models/keys-top.json',\n\t\t\t// Function when resource is loaded\n\t\t\tfunction ( geometry, materials ) {\n\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\tvar object = new THREE.Mesh( geometry, material );\n\t\t\t\t// scene.add( object );\n\t\t\t\t\n\t\t\t\tobject.position.y=0.005;\n\t\t\t\t// object.position.y=0.06;\n\t\t\t\tobject.position.x=-0.5;\n\t\t\t\tobject.position.z=0;\n\t\t\t\t\n\t\t\t\tobject.castShadow=true;\n\t\t\t\tvar color_dark = {\n\t\t\t\t\tr: 15,\n\t\t\t\t\tg: 15,\n\t\t\t\t\tb: 15\n\t\t\t\t}\n\t\t\t\tvar color_light = {\n\t\t\t\t\tr:25,\n\t\t\t\t\tg:25,\n\t\t\t\t\tb:25\n\t\t\t\t};\n\t\t        for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t        \tobject.material.materials[i].side=THREE.DoubleSide;\n\t\t\t\t\tobject.material.materials[i].specular.r = color_dark.r/255;\n\t\t\t\t\tobject.material.materials[i].specular.g = color_dark.g/255;\n\t\t\t\t\tobject.material.materials[i].specular.b = color_dark.b/255;\n\t\t\t\t\tobject.material.materials[i].emissive.r = color_light.r/255;\n\t\t\t\t\tobject.material.materials[i].emissive.g = color_light.g/255;\n\t\t\t\t\tobject.material.materials[i].emissive.b = color_light.b/255;\n\t\t\t\t\tobject.material.materials[i].shininess=21;\t\n\t\t        }\n\t\t\t\tmacbookGroup.add( object );\n\t\t    \t\n\t\t    }\n\t\t);\t\n\t\tmacbookGroup.position.x=20;\n\t\tmacbookGroup.position.y=-15;\n\t\tmacbookGroup.position.z=-5;\n\t\tmacbookGroup.rotation.x=de2ra(35);\n\t\tmacbookGroup.rotation.y=de2ra(-65);\n\t\tmacbookGroup.rotation.z=de2ra(40);\n\t\tmacbookGroup.scale.set(5,5,5);\n\t\t// scene.add(macbookGroup);\n\t\tsectionObject.add(macbookGroup);\n\n\t\tsectionObject.position.z=5;\n\t\t// screenMaterial.opacity=0;\n\t\tconsole.log(\"screenMaterial\",screenMaterial);\n\t\t\n\t\tvar tween1 = TweenMax.to(macbookGroup.position, 3.5,{ y:macbookGroup.position.y-1, yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\n\t\tvar openLid = TweenMax.to(macbookPivot.rotation, 2.5, { x:-de2ra(20), ease:Power4.easeInOut, delay: 2});\n\t\t// var turnComputer = TweenMax.to(macbookGroup.rotation, 2, { x:de2ra(15), y:-de2ra(65), ease:Power4.easeInOut, delay: 2});\n\t\t// var turnOnScreen = TweenMax.to(screenMaterial, 0.3, {opacity:1, delay:4});\n\t\t// var tween2 = TweenMax.to(macbookGroup.rotation, 3.5,{ y:de2ra(360), yoyo:true, repeat:-1, ease:Power2.easeInOut, onComplete:function() {}});\n\t}\n\tsectionObject.updatePosition = function() {\n\t\tthis.position.x = this.count*screenWidthFromDistance(200);\n\t}\n\tsectionObject.start = function() {\n\t\tconsole.log(\"new section\",section, $(section).attr(\"data-bg-light\"), $(section).attr(\"data-bg-dark\"));\n\t\t$(\"body\").css(\"background\",$(section).data(\"bg-dark\"));\n\t\t// $(\".current_project *\").css(\"color\",$(section).data(\"bg-light\"));\n\t}\n\tstage.add( sectionObject );\n\t\n\tsetTimeout(function(sectionObject) {\n\t\tsectionObject.position.x = sectionObject.count*screenWidthFromDistance(200);\n\t},100,sectionObject);\n\treturn sectionObject;\n}\nfunction addPhone(rotation, position, screenMaterial, glassMaterial, loader, color_dark, color_light) {\n\tconsole.log(\"rotation\",position);\n\tvar deferred = new $.Deferred();\n\tvar phoneGroup = new THREE.Group();\n\tvar screenGeometry = new THREE.PlaneGeometry( 0.55, 1, 1 );\n\tvar screen = new THREE.Mesh( screenGeometry, screenMaterial );\n\tscreen.receiveShadow = false;\n\tscreen.position.z = 0.0292;\n\tscreen.position.y = 0.05;\n\tphoneGroup.add( screen );\n\n\tvar glass = new THREE.Mesh( screenGeometry, glassMaterial );\n\tglass.receiveShadow = false;\n\tglass.position.z = 0.0292;\n\tglass.position.y = 0.05;\n\tphoneGroup.add(glass);\n\n\tloader.load(\n\t\t'models/iphones7.json',\n\t\tfunction ( geometry, materials ) {\n\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\tvar object = new THREE.Mesh( geometry, material );\t\t\t\t\n\t\t\tobject.position.y=-0.6;\n\t\t\tobject.castShadow=true;\n\t\t\tobject.receiveShadow = true;\n\t\t\tphoneGroup.add( object );\n\t\t\tobject.traverse( function ( child ) {\n\t\t\t\tchild.geometry.computeFaceNormals();\n\t\t        phoneGroup.position.y=-5;\n\t\t        phoneGroup.position.z=-1;\n\t\t       for (i=0;i<object.material.materials.length;i++) {\n\t\t        \tvar tC = .75;\n\t\t\t\t\tobject.material.materials[i].emissive.r = (color_dark.r/255);\n\t\t\t\t\tobject.material.materials[i].emissive.g = (color_dark.g/255);\n\t\t\t\t\tobject.material.materials[i].emissive.b = (color_dark.b/255);\n\t\t\t\t\tobject.material.materials[i].color.r = (color_light.r/255);\n\t\t\t\t\tobject.material.materials[i].color.g = (color_light.g/255);\n\t\t\t\t\tobject.material.materials[i].color.b = (color_light.b/255);\n\t\t\t\t\tobject.material.materials[i].shininess = 10;\n\t\t        } \n\t    \t});\n\t    \tloader.load(\n\t\t\t\t'models/iphone-back.json',\n\t\t\t\tfunction ( geometry, materials ) {\n\t\t\t\t\tvar material = new THREE.MultiMaterial( materials );\n\t\t\t\t\tvar object = new THREE.Mesh( geometry, material );\t\t\t\t\n\t\t\t\t\tobject.position.y=-0.6;\n\t\t\t\t\tobject.castShadow=true;\n\t\t\t\t\tobject.receiveShadow = true;\n\t\t\t\t\tphoneGroup.add( object );\n\t\t\t\t\tobject.traverse( function ( child ) {\n\t\t\t\t\t\tchild.geometry.computeFaceNormals();\n\t\t\t\t        phoneGroup.position.y=-5;\n\t\t\t\t        phoneGroup.position.z=-1;\n\n\t\t\t\t       for (i=0;i<object.material.materials.length;i++) {\n\t\t\t\t        \tvar tC = .75;\n\t\t\t\t\t\t\tobject.material.materials[i].emissive.r = (color_dark.r/255);\n\t\t\t\t\t\t\tobject.material.materials[i].emissive.g = (color_dark.g/255);\n\t\t\t\t\t\t\tobject.material.materials[i].emissive.b = (color_dark.b/255);\n\t\t\t\t\t\t\tobject.material.materials[i].color.r = (color_light.r/255);\n\t\t\t\t\t\t\tobject.material.materials[i].color.g = (color_light.g/255);\n\t\t\t\t\t\t\tobject.material.materials[i].color.b = (color_light.b/255);\n\t\t\t\t        } \n\t\t\t\t\t\tphoneGroup.position.z=position.z;\n\t\t\t\t\t\tphoneGroup.position.y=position.y;\n\t\t\t\t\t\tphoneGroup.position.x=position.x;\n\t\t\t\t\t\tphoneGroup.scale.set( 30, 30, 30 );\n\t\t\t\t\t\tphoneGroup.castShadow = true;\n\t\t\t\t\t\tphoneGroup.rotation.x=rotation.x;\n\t\t\t\t\t\tphoneGroup.rotation.z=rotation.z;\n\n\t\t\t\t\t\tdeferred.resolve(phoneGroup);\n\t\t\t    \t})\t\t\t\t    \t\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n\treturn deferred.promise();\n}","// var multiSearch = function() {\n// \tvar defaultSearchPlatform = \"spotify\";\n// \tvar select;\n\n\t\n// \treturn {\n// \t\tInit: function() {\n\t\t\t\n// \t\t}\n// \t}\n// }();\n\n// $(function() {\n// \tmultiSearch.Init();\n// })\n\n$(function() {\n\tinit();\n\tsetTimeout(function() {\n\t\t$(\"video\").each(function() {\n\t\t\t// this.pause();\n\t\t});\n\t},2000);\n});\n\n// if ( ! Detector.webgl ) Detector.addGetWebGLMessage();\n\nvar camera, scene, stage, renderer;\nvar mouseX = 0, prevMouseX = 0, mouseY = 0, mouseDown = false, mouseDirection;\nvar windowHalfX = window.innerWidth / 2;\nvar windowHalfY = window.innerHeight / 2;\nvar mouseDownCoord = new Object();\nvar sections = [], activeSection = 0, prevActiveSection = null, background = { light: { r:0, g:0, b:0 }, dark: { r:0, g:0, b:0 } };\nfunction init() {\n\n\tsetEnvironment();\n\tsetLights();\n\t\n\t$(\"section\").each(function(i,elm) {\n\t\tsections.push(addProject(elm,stage));\n\t\tsections[i].count=i;\n\t});\n\t$(\"section:first-child\").find(\"video\")[0].play();\n\tscrollHandler();\n\tanimate();\n}\nfunction setLights() {\n\tvar shadowMapSize = 1024;\n\tvar groundGeometry = new THREE.PlaneGeometry( 1650, 1650, 1 );\n\tvar groundMaterial = new THREE.ShadowMaterial();\n\tgroundMaterial.opacity = 0.1;\n\tvar ground = new THREE.Mesh(groundGeometry, groundMaterial);\n\tground.receiveShadow = true;\n\tground.rotation.x=55;\n\tground.position.y=-30;\n\tground.transparent = true;\n\tscene.add(ground);\n\n\tvar light = new THREE.AmbientLight( 0x666666 ); // soft white light\n\tscene.add( light );\n\n\n\n\tvar spotLight1 = new THREE.SpotLight( 0xffffff); \n\tspotLight1.shadow.mapSize.height = shadowMapSize;\n\tspotLight1.shadow.mapSize.width = shadowMapSize;\n\tspotLight1.castShadow = false;\n\tspotLight1.position.set( 0, 55, 0 );\n\tspotLight1.intensity = .2;\n\tspotLight1.penumbra = 1;\n\tspotLight1.decay = 2;\n\tspotLight1.angle = .45;\n\tscene.add( spotLight1 );\n\tscene.add(spotLight1.target);\n\n\tvar spotLight2 = new THREE.SpotLight( 0xFFFFFF); \n\tspotLight2.castShadow = true;\n\tspotLight2.position.set( 0, 150, -0 ); \n\tspotLight2.target.position.set( 0, 0, 0 );\n\tspotLight2.shadow.mapSize.height = shadowMapSize;\n\tspotLight2.shadow.mapSize.width = shadowMapSize;\n\tspotLight2.intensity = .1;\n\tspotLight2.exponent = .05;\n\tspotLight2.penumbra = 1;\n\tspotLight2.decay = 2;\n\tspotLight2.angle = de2ra(80);\n\tscene.add( spotLight2 );\n\tscene.add(spotLight2.target);\n\n\n\t// var shadowGeometry = new THREE.CubeGeometry( 35, 15, 1 );\n\t// var transpMaterial = new THREE.ShadowMaterial();\n\t// transpMaterial.opacity = 0.1;\n\t// var plane = new THREE.Mesh( shadowGeometry, transpMaterial );\n\t// plane.receiveShadow = true;\n\t// plane.position.z = -2.7;\n\t// scene.add( plane );\n}\n\nfunction scrollHandler() {\n\tscrollPercentage = $(\".projects\").scrollTop() / ($(\".projects\")[0].scrollHeight-$(window).innerHeight());\n\tactiveSection = Math.floor(scrollPercentage * sections.length);\n\tif (activeSection == sections.length) activeSection -=1;\n\tif (activeSection != prevActiveSection) {\n\t\tconsole.log(\"starting section \",activeSection)\n\t\tsections[activeSection].start();\n\t}\n\tprevActiveSection = activeSection;\n\tstage.position.x=0-scrollPercentage*(screenWidthFromDistance(200)*(sections.length-1));\n}\nfunction setEnvironment() {\n\tvar container = document.createElement( 'div' );\n\tcontainer.setAttribute(\"class\",\"content\");\n\tdocument.getElementsByClassName('devices')[0].appendChild( container );\n\n\tcamera = new THREE.PerspectiveCamera( setFOV(), window.innerWidth / window.innerHeight, 1, 5000 );\n\tcamera.position.z = 120;\n\tconsole.log(camera)\n\n\tscene = new THREE.Scene();\n\tstage = new THREE.Group();\n\tscene.add(stage);\n\t$(\".projects\").bind(\"scroll\",scrollHandler);\n\t\n\tvar myAntialias=true;\n\tif (window.devicePixelRatio>1) {\n\t\tmyAntialias=false;\n\t}\n\trenderer = new THREE.WebGLRenderer( {alpha: true, antialias: myAntialias });\n\trenderer.setClearColor( 0xff0000, 0 );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.shadowMap.enabled\t= true;\n\trenderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\tcontainer.appendChild( renderer.domElement );\n\n\tvar element = renderer.domElement;\n\telement.style.position='absolute';\n\twindow.addEventListener( 'resize', onWindowResize, false );\n\tanimate();\n}\n\nfunction onWindowResize() {\n\twindowHalfX = window.innerWidth / 2;\n\twindowHalfY = window.innerHeight / 2;\n\n\tcamera.aspect = window.innerWidth / window.innerHeight;\n\tcamera.updateProjectionMatrix();\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\toverlay.width=window.innerWidth;\n\toverlay.height=window.innerHeight;\n\tcamera.fov = setFOV();\n\tscrollHandler();\n\tfor (i=0;i<sections.length;i++) {\n\t\tsections[i].updatePosition();\n\t}\n}\n\nvar mousePosition = { x:0, y:0 };\ndocument.addEventListener( 'mousemove', onDocumentMouseMove, false ); \nfunction onDocumentMouseMove( event ) {\n\tmouseX = windowHalfX - event.clientX;\n\tmouseY = windowHalfY - event.clientY;\n\tprevMouseX=mouseX;\n\tTweenMax.to(mousePosition, 1, {x: mouseX, y:mouseY});\n}\n\n\n\n\nfunction animate() {\n\trequestAnimationFrame( animate );\n\trender();\n}\n\nfunction render() {\n\t// var time = Date.now();\n\n\tcamera.position.x = ( mousePosition.x - camera.position.x ) * 0.003;\n\tcamera.position.y = (( - mousePosition.y - camera.position.y ) * 0.003);\n\trenderer.render( scene, camera );\n}\n\t\n\t\nfunction de2ra(degree) { \n\treturn degree*(Math.PI/180);\n}\nfunction screenWidthFromDistance(distance) {\n\tvar aspect = window.innerWidth / window.innerHeight;\n\tvar frustumHeight = 2.0 * distance * Math.tan(camera.fov * 0.5 * (Math.PI/180));\n\tvar frustumWidth = frustumHeight * aspect;\n\treturn frustumWidth;\n}\nfunction setFOV() {\n\t// var fov = map_range(window.innerWidth, 0, 100, 60, 305);\n\tfov = 40;\n\n\treturn fov;\t\n}\nfunction hexToRgb(r,t){var n=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(r),a=function(){return void 0==this.alpha?\"rgb(\"+this.r+\", \"+this.g+\", \"+this.b+\")\":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),\"rgba(\"+this.r+\", \"+this.g+\", \"+this.b+\", \"+this.alpha+\")\")};return void 0==t?n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),toString:a}:null:(t>1?t=1:0>t&&(t=0),n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),alpha:t,toString:a}:null)}\nfunction rgbToHex(r,t,n){function a(r){var t=r.toString(16);return 1==t.length?\"0\"+t:t}if(void 0==t||void 0==n){if(\"string\"==typeof r){var i=/^rgb[a]?\\(([\\d]+)[ \\n]*,[ \\n]*([\\d]+)[ \\n]*,[ \\n]*([\\d]+)[ \\n]*,?[ \\n]*([.\\d]+)?[ \\n]*\\)$/i.exec(r);return rgbToHex(parseInt(i[1]),parseInt(i[2]),parseInt(i[3]))}return void 0==r.r||void 0==r.g||void 0==r.b?null:rgbToHex(r.r,r.g,r.b)}var e=r;return\"#\"+a(e)+a(t)+a(n)}\n$(\".controls a\").click(function(e) {\n\te.stopPropagation();\n});\n\n","\n\tdocument.write('<script src=\"http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1\"></' + 'script>');\n\t// console.log(\"in debug mode\");\n","function map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}"]}
function addProject(e,a){function t(){s.screenWidth=screenWidthFromDistance(camera.position.z),console.log(s.screenWidth)}var s={};$(window).bind("resize",t),t();var r=new THREE.JSONLoader,o=new THREE.MeshBasicMaterial({color:16777215}),n=$(e).find("video")[0],l=new THREE.VideoTexture(n);l.minFilter=THREE.LinearFilter,l.magFilter=THREE.LinearFilter,l.format=THREE.RGBFormat,l.wrapS=THREE.ClampToEdgeWrapping,l.wrapT=THREE.ClampToEdgeWrapping,o.map=l;var m=new THREE.MeshPhongMaterial({color:16777215});if(m.specular.r=1,m.specular.g=1,m.specular.b=1,m.transparent=!0,m.opacity=.1,m.shininess=.2,$(e).hasClass("mobile")){var p=new THREE.Group,E=new THREE.PlaneGeometry(.55,.983,1),c=new THREE.Mesh(E,o);c.receiveShadow=!1,c.position.z=.0292,c.position.y=.05,c.receiveShadow=!1,c.position.z=.0292,c.position.y=.05,p.add(c);var d=new THREE.Mesh(E,m);d.receiveShadow=!0,d.position.z=.0293,d.position.y=.05,d.transparent=!0,r.load("models/phone.json",function(e,a){var t=new THREE.MultiMaterial(a),s=new THREE.Mesh(e,t);s.position.y=-.6,s.castShadow=!0,s.traverse(function(e){for(e instanceof THREE.Mesh&&e.geometry.computeVertexNormals(),p.position.y=-5,p.position.z=-1,i=0;i<s.material.materials.length;i++){var a=.75;s.material.materials[i].side=2,s.material.materials[i].specular.r=a,s.material.materials[i].specular.g=a,s.material.materials[i].specular.b=a,s.material.materials[i].emissive.r=0,s.material.materials[i].emissive.g=0,s.material.materials[i].emissive.b=0,s.material.materials[i].shininess=10}p.add(s)}),phoneObject=s,p.position.z=0,p.position.y=-1,p.scale.set(25,25,25),p.castShadow=!0,TweenMax.to(p.rotation,1.5,{y:de2ra(0),ease:Power4.easeOut});TweenMax.to(p.position,3.5,{y:0,yoyo:!0,repeat:-1,ease:Power2.easeInOut,onComplete:function(){}})}),a.add(p)}else if($(e).hasClass("desktop")){var w=new THREE.Group,u=new THREE.Object3D;r.load("models/screen.json",function(e,a){var t=new THREE.MultiMaterial(a),s=new THREE.Mesh(e,t);s.position.y=0,s.position.x=-.5,s.position.z=0,s.castShadow=!0,s.traverse(function(e){for(e instanceof THREE.Mesh&&e.geometry.computeVertexNormals(),i=0;i<s.material.materials.length;i++){var a=.75;s.material.materials[i].side=2,s.material.materials[i].specular.r=a,s.material.materials[i].specular.g=a,s.material.materials[i].specular.b=a,s.material.materials[i].emissive.r=0,s.material.materials[i].emissive.g=0,s.material.materials[i].emissive.b=0,s.material.materials[i].shininess=8}u.add(s)})});var h=new THREE.PlaneGeometry(8.7,5.8,1),T=new THREE.Mesh(h,o);T.position.z=-3.16,T.position.y=3.3,T.rotation.x=de2ra(1),u.add(T);var v=new THREE.Object3D,R=new THREE.BoxBufferGeometry(200,200,200),H=new THREE.MeshBasicMaterial({color:16777215});mesh=new THREE.Mesh(R,H),v.add(mesh),u.position.z=3,v.add(u),v.position.z=-2.8,v.rotation.x=de2ra(90);TweenMax.to(v.rotation,1,{x:0,ease:Power4.easeInOut}),TweenMax.to(o,.3,{opacity:1,delay:.5});w.add(v),r.load("models/keyboard.json",function(e,a){var t=new THREE.MultiMaterial(a),s=new THREE.Mesh(e,t);s.position.y=0,s.position.x=-.5,s.position.z=0,s.castShadow=!0,s.traverse(function(e){for(e instanceof THREE.Mesh&&e.geometry.computeVertexNormals(),i=0;i<s.material.materials.length;i++){var a=.75;s.material.materials[i].side=2,s.material.materials[i].specular.r=a,s.material.materials[i].specular.g=a,s.material.materials[i].specular.b=a,s.material.materials[i].emissive.r=0,s.material.materials[i].emissive.g=0,s.material.materials[i].emissive.b=0,s.material.materials[i].shininess=1.5}w.add(s)})}),r.load("models/keys.json",function(e,a){var t=new THREE.MultiMaterial(a),s=new THREE.Mesh(e,t);s.position.y=0,s.position.x=-.5,s.position.z=0,s.castShadow=!0,s.traverse(function(e){for(e instanceof THREE.Mesh&&e.geometry.computeVertexNormals(),i=0;i<s.material.materials.length;i++){var a=.75;s.material.materials[i].side=2,s.material.materials[i].specular.r=a,s.material.materials[i].specular.g=a,s.material.materials[i].specular.b=a,s.material.materials[i].emissive.r=0,s.material.materials[i].emissive.g=0,s.material.materials[i].emissive.b=0,s.material.materials[i].shininess=21}w.add(s)})}),w.position.y=-10,w.position.z=10,w.scale.set(4,4,4);TweenMax.to(w.position,3.5,{y:-9,yoyo:!0,repeat:-1,ease:Power2.easeInOut,onComplete:function(){}})}}
function init(){setEnvironment(),setLights(),$("section").each(function(){addProject(this,scene)}),animate()}function setLights(){var e=512,n=new THREE.PlaneGeometry(250,250,1),i=new THREE.ShadowMaterial;i.opacity=.3;var t=new THREE.Mesh(n,i);t.receiveShadow=!0,t.rotation.x=55,t.position.y=-20,t.transparent=!0,scene.add(t);var o=new THREE.SpotLight(16777215);o.castShadow=!1,o.position.set(20,55,20),o.target.position.set(0,15,0),o.shadow.mapSize.height=e,o.shadow.mapSize.width=e,o.intensity=.15,o.penumbra=1.5,o.decay=2,o.angle=de2ra(25),scene.add(o);var r=new THREE.SpotLight(16777215);r.castShadow=!0,r.position.set(0,50,-10),r.target.position.set(0,5,-10),r.shadow.mapSize.height=1024,r.shadow.mapSize.width=1024,r.intensity=.15,r.exponent=.05,r.angle=de2ra(85),scene.add(r);var a=new THREE.CubeGeometry(35,15,1),d=new THREE.ShadowMaterial;d.opacity=.1;var s=new THREE.Mesh(a,d);s.receiveShadow=!0,s.position.z=-2.7,scene.add(s)}function setEnvironment(){var e=document.createElement("div");e.setAttribute("class","content"),document.getElementsByClassName("devices")[0].appendChild(e),camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,2e3),camera.position.z=60,scene=new THREE.Scene;var n=!0;window.devicePixelRatio>1&&(n=!1),renderer=new THREE.WebGLRenderer({alpha:!0,antialias:n}),renderer.setClearColor(0,0),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.shadowMap.enabled=!0,renderer.shadowMap.type=THREE.PCFSoftShadowMap,e.appendChild(renderer.domElement);renderer.domElement;window.addEventListener("resize",onWindowResize,!1),animate()}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseMove(e){mouseX=windowHalfX-e.clientX,mouseY=windowHalfY-e.clientY,prevMouseX=mouseX,TweenMax.to(mousePosition,1,{x:mouseX,y:mouseY})}function animate(){requestAnimationFrame(animate),render()}function render(){camera.position.x=.003*(mousePosition.x-camera.position.x),camera.position.y=.003*(-mousePosition.y-camera.position.y),renderer.render(scene,camera)}function de2ra(e){return e*(Math.PI/180)}function screenWidthFromDistance(e){var n=window.innerWidth/window.innerHeight,i=2*e*Math.tan(.5*camera.fov*(Math.PI/180)),t=i*n;console.log(t,i);var o=window.innerWidth/t;return window.innerWidth*o}function hexToRgb(e,n){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),t=function(){return void 0==this.alpha?"rgb("+this.r+", "+this.g+", "+this.b+")":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")};return void 0==n?i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),toString:t}:null:(n>1?n=1:0>n&&(n=0),i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),alpha:n,toString:t}:null)}function rgbToHex(e,n,i){function t(e){var n=e.toString(16);return 1==n.length?"0"+n:n}if(void 0==n||void 0==i){if("string"==typeof e){var o=/^rgb[a]?\(([\d]+)[ \n]*,[ \n]*([\d]+)[ \n]*,[ \n]*([\d]+)[ \n]*,?[ \n]*([.\d]+)?[ \n]*\)$/i.exec(e);return rgbToHex(parseInt(o[1]),parseInt(o[2]),parseInt(o[3]))}return void 0==e.r||void 0==e.g||void 0==e.b?null:rgbToHex(e.r,e.g,e.b)}var r=e;return"#"+t(r)+t(n)+t(i)}$(function(){init()});var camera,scene,renderer,mouseX=0,prevMouseX=0,mouseY=0,mouseDown=!1,mouseDirection,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,mouseDownCoord=new Object,mousePosition={x:0,y:0};document.addEventListener("mousemove",onDocumentMouseMove,!1),$(".controls a").click(function(e){e.stopPropagation()});
document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>');
//# sourceMappingURL=site.js.map
